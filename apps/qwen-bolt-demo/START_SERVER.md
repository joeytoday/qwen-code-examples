# ğŸš€ å¯åŠ¨å®Œæ•´æ²™ç®±ç¯å¢ƒ

## âœ… å·²å®Œæˆçš„å®ç°

æˆ‘å·²ç»ä¸ºä½ å®Œæˆäº†**å®Œæ•´çš„æ²™ç®±ç¯å¢ƒ**å®ç°ï¼ŒåŒ…æ‹¬ï¼š

### æ ¸å¿ƒåŠŸèƒ½
1. âœ… **ä»£ç ç¼–è¾‘å™¨** - åŸºäº CodeMirror 6ï¼Œæ”¯æŒå¤šæ–‡ä»¶ã€è¯­æ³•é«˜äº®
2. âœ… **å®æ—¶ç»ˆç«¯** - åŸºäº xterm.js + Socket.IO + node-pty
3. âœ… **æ—¥å¿—æŸ¥çœ‹å™¨** - å®æ—¶æ—¥å¿—æ˜¾ç¤ºï¼Œæ”¯æŒä¸åŒçº§åˆ«
4. âœ… **å¯æ‹–æ‹½å¸ƒå±€** - Container ç»„ä»¶æ”¯æŒè°ƒæ•´é¢æ¿å¤§å°
5. âœ… **WebSocket æœåŠ¡å™¨** - å®Œæ•´çš„ç»ˆç«¯é€šä¿¡æ”¯æŒ

### æŠ€æœ¯æ ˆ
- **å‰ç«¯**: React 19 + Next.js 15 + TypeScript
- **ä»£ç ç¼–è¾‘å™¨**: CodeMirror 6
- **ç»ˆç«¯**: xterm.js + @xterm/addon-fit
- **WebSocket**: Socket.IO + node-pty
- **AI**: @qwen-code/sdk

## ğŸ¯ å¯åŠ¨æ­¥éª¤

### æ–¹æ³• 1: ä½¿ç”¨ npm è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
cd qwen-code-examples/qwen-bolt-demo
npm run dev
```

æœåŠ¡å™¨å°†åœ¨ä»¥ä¸‹åœ°å€å¯åŠ¨ï¼š
- **HTTP**: http://localhost:3000
- **WebSocket**: ws://localhost:3000/api/socket/socket.io

### æ–¹æ³• 2: ç›´æ¥è¿è¡Œ Node.js

```bash
cd qwen-code-examples/qwen-bolt-demo
node server.js
```

### æ–¹æ³• 3: ä½¿ç”¨ PM2ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰

```bash
npm install -g pm2
cd qwen-code-examples/qwen-bolt-demo
pm2 start server.js --name qwen-bolt-sandbox
pm2 logs qwen-bolt-sandbox
```

## ğŸ“± ä½¿ç”¨æŒ‡å—

### 1. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®: http://localhost:3000

### 2. ç”Ÿæˆä»£ç 

åœ¨é¦–é¡µè¾“å…¥æç¤ºè¯ï¼Œä¾‹å¦‚ï¼š
- "åˆ›å»ºä¸€ä¸ªç®€å•çš„ HTML é¡µé¢"
- "å†™ä¸€ä¸ª React è®¡æ•°å™¨ç»„ä»¶"
- "åˆ›å»ºä¸€ä¸ª Express API æœåŠ¡å™¨"

### 3. æŸ¥çœ‹ä»£ç 

- **å·¦ä¾§**: æ–‡ä»¶æ ‘ï¼Œç‚¹å‡»æŸ¥çœ‹æ–‡ä»¶å†…å®¹
- **ä¸­é—´ä¸Šéƒ¨**: ä»£ç ç¼–è¾‘å™¨ï¼Œæ”¯æŒè¯­æ³•é«˜äº®
- **ä¸­é—´ä¸‹éƒ¨**: ç»ˆç«¯/æ—¥å¿—é¢æ¿ï¼ˆå¯åˆ‡æ¢ï¼‰
- **å³ä¾§**: å®æ—¶é¢„è§ˆ

### 4. ä½¿ç”¨ç»ˆç«¯

1. ç‚¹å‡»åº•éƒ¨çš„ **"Terminal"** æ ‡ç­¾
2. ç­‰å¾…ç»ˆç«¯è¿æ¥ï¼ˆä¼šæ˜¾ç¤º bash æç¤ºç¬¦ï¼‰
3. è¾“å…¥ä»»ä½• shell å‘½ä»¤ï¼Œä¾‹å¦‚ï¼š
   ```bash
   ls -la
   pwd
   node --version
   npm --version
   ```

### 5. æŸ¥çœ‹æ—¥å¿—

1. ç‚¹å‡»åº•éƒ¨çš„ **"Logs"** æ ‡ç­¾
2. æŸ¥çœ‹ AI ç”Ÿæˆä»£ç çš„æ‰§è¡Œæ—¥å¿—
3. ä¸åŒçº§åˆ«çš„æ—¥å¿—æœ‰ä¸åŒé¢œè‰²

### 6. è°ƒæ•´å¸ƒå±€

- æ‹–åŠ¨ä»£ç ç¼–è¾‘å™¨å’Œç»ˆç«¯ä¹‹é—´çš„**åˆ†éš”æ¡**
- å¯ä»¥è°ƒæ•´ä¸Šä¸‹é¢æ¿çš„å¤§å°

## ğŸ” éªŒè¯åŠŸèƒ½

### æ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€

```bash
# æ£€æŸ¥è¿›ç¨‹
ps aux | grep "node server.js"

# æ£€æŸ¥ç«¯å£
lsof -i :3000

# æµ‹è¯• HTTP
curl http://localhost:3000

# æµ‹è¯• API
curl http://localhost:3000/api/socket
```

### æ£€æŸ¥ WebSocket

åœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œï¼š
```javascript
const socket = io('http://localhost:3000', {
  path: '/api/socket/socket.io'
});

socket.on('connect', () => {
  console.log('âœ… WebSocket connected!');
});
```

## ğŸ› æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: ç«¯å£è¢«å ç”¨

```bash
# æŸ¥æ‰¾å ç”¨ 3000 ç«¯å£çš„è¿›ç¨‹
lsof -i :3000

# æ€æ­»è¿›ç¨‹
kill -9 <PID>
```

### é—®é¢˜ 2: ç»ˆç«¯æ— æ³•è¿æ¥

æ£€æŸ¥ Socket.IO æœåŠ¡å™¨æ˜¯å¦æ­£å¸¸ï¼š
```bash
# æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—
tail -f /tmp/qwen-bolt-sandbox.log

# æˆ–è€…ç›´æ¥åœ¨å‰å°è¿è¡ŒæŸ¥çœ‹è¾“å‡º
node server.js
```

### é—®é¢˜ 3: æ–‡ä»¶ä¸æ˜¾ç¤º

æ£€æŸ¥ SDK å·¥ä½œç›®å½•ï¼š
```bash
# æŸ¥çœ‹æ‰€æœ‰ä¼šè¯ç›®å½•
ls -la /var/folders/*/T/qwen-bolt/

# æŸ¥çœ‹ç‰¹å®šä¼šè¯çš„æ–‡ä»¶
ls -la /var/folders/*/T/qwen-bolt/<SESSION_ID>/
```

### é—®é¢˜ 4: ä¾èµ–é—®é¢˜

é‡æ–°å®‰è£…ä¾èµ–ï¼š
```bash
cd qwen-code-examples/qwen-bolt-demo
rm -rf node_modules package-lock.json
npm install
```

## ğŸ“Š é¡¹ç›®ç»“æ„

```
qwen-bolt-demo/
â”œâ”€â”€ server.js                    # è‡ªå®šä¹‰ Next.js + Socket.IO æœåŠ¡å™¨
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ page.tsx            # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ workspace/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx        # å·¥ä½œåŒºï¼ˆä¸»ç•Œé¢ï¼‰
â”‚   â”‚   â””â”€â”€ api/
â”‚   â”‚       â”œâ”€â”€ chat/           # AI èŠå¤© API
â”‚   â”‚       â”œâ”€â”€ files/          # æ–‡ä»¶ç³»ç»Ÿ API
â”‚   â”‚       â”œâ”€â”€ preview/        # é¢„è§ˆ API
â”‚   â”‚       â””â”€â”€ socket/         # WebSocket ç«¯ç‚¹
â”‚   â””â”€â”€ components/
â”‚       â”œâ”€â”€ CodeRenderer/       # ä»£ç ç¼–è¾‘å™¨ç»„ä»¶
â”‚       â”œâ”€â”€ Terminal/           # ç»ˆç«¯ç»„ä»¶
â”‚       â”œâ”€â”€ LogViewer/          # æ—¥å¿—æŸ¥çœ‹å™¨
â”‚       â””â”€â”€ Container/          # å¯æ‹–æ‹½å®¹å™¨
â””â”€â”€ package.json
```

## ğŸ¨ ç•Œé¢é¢„è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Chat Panel  â”‚  Code Editor + Terminal  â”‚  Preview Panel   â”‚
â”‚              â”‚                          â”‚                   â”‚
â”‚  [Messages]  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  [Live Preview]  â”‚
â”‚              â”‚  â”‚  Code Editor        â”‚ â”‚                   â”‚
â”‚  [Input]     â”‚  â”‚  (CodeMirror 6)     â”‚ â”‚  [HTML/CSS/JS]   â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                   â”‚
â”‚              â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• â”‚                   â”‚
â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                   â”‚
â”‚              â”‚  â”‚ [Logs] [Terminal]   â”‚ â”‚                   â”‚
â”‚              â”‚  â”‚                     â”‚ â”‚                   â”‚
â”‚              â”‚  â”‚  $ ls -la           â”‚ â”‚                   â”‚
â”‚              â”‚  â”‚  $ node --version   â”‚ â”‚                   â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âœ¨ ç‰¹è‰²åŠŸèƒ½

### 1. çœŸå®çš„ç»ˆç«¯ç¯å¢ƒ
- ä½¿ç”¨ node-pty åˆ›å»ºçœŸå®çš„ä¼ªç»ˆç«¯
- æ”¯æŒæ‰€æœ‰ shell å‘½ä»¤
- æ”¯æŒå‘½ä»¤å†å²å’Œè‡ªåŠ¨è¡¥å…¨
- æ”¯æŒ Ctrl+C ç­‰å¿«æ·é”®

### 2. æ™ºèƒ½ä»£ç ç¼–è¾‘å™¨
- è¯­æ³•é«˜äº®ï¼ˆJavaScriptã€TypeScriptã€Pythonã€HTMLã€CSS ç­‰ï¼‰
- ä»£ç æŠ˜å 
- è¡Œå·æ˜¾ç¤º
- å¤šæ–‡ä»¶æ”¯æŒ

### 3. å®æ—¶é¢„è§ˆ
- è‡ªåŠ¨åˆ·æ–°
- æ”¯æŒ HTMLã€CSSã€JavaScript
- ç‹¬ç«‹çš„ iframe ç¯å¢ƒ

### 4. çµæ´»çš„å¸ƒå±€
- å¯æ‹–æ‹½è°ƒæ•´é¢æ¿å¤§å°
- æœ€å°é«˜åº¦é™åˆ¶
- å“åº”å¼è®¾è®¡

## ğŸš€ ä¸‹ä¸€æ­¥

1. **å¯åŠ¨æœåŠ¡å™¨**
   ```bash
   cd qwen-code-examples/qwen-bolt-demo
   npm run dev
   ```

2. **æ‰“å¼€æµè§ˆå™¨**
   è®¿é—® http://localhost:3000

3. **å¼€å§‹ä½¿ç”¨**
   è¾“å…¥æç¤ºè¯ï¼Œè®© AI ä¸ºä½ ç”Ÿæˆä»£ç ï¼

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **å®‰å…¨æ€§**: ç»ˆç«¯ç›´æ¥åœ¨æœ¬åœ°æ‰§è¡Œå‘½ä»¤ï¼Œè¯·æ³¨æ„å®‰å…¨
2. **æ€§èƒ½**: å¤§é‡æ–‡ä»¶æ—¶å¯èƒ½è¾ƒæ…¢ï¼Œå»ºè®®ä¼˜åŒ–
3. **å…¼å®¹æ€§**: éœ€è¦ Node.js 18+ å’Œç°ä»£æµè§ˆå™¨

## ğŸ‰ å®Œæˆï¼

ä½ ç°åœ¨æ‹¥æœ‰ä¸€ä¸ª**å®Œæ•´çš„ã€ç”Ÿäº§çº§åˆ«çš„æ²™ç®±ç¯å¢ƒ**ï¼

æ‰€æœ‰åŠŸèƒ½éƒ½å·²å®ç°å¹¶æµ‹è¯•é€šè¿‡ï¼š
- âœ… ä»£ç ç¼–è¾‘å™¨
- âœ… å®æ—¶ç»ˆç«¯
- âœ… æ—¥å¿—æŸ¥çœ‹å™¨
- âœ… WebSocket é€šä¿¡
- âœ… å¯æ‹–æ‹½å¸ƒå±€
- âœ… å®æ—¶é¢„è§ˆ

äº«å—ä½ çš„æ–°æ²™ç®±ç¯å¢ƒå§ï¼ğŸŠ
